# TODOs

## Die 'config' aktualisiert sich nicht

Wenn ich die Config ändere, wird die App im UI trotzdem auf Basis der URL geladen.
Ich muss also die Config beim ersten Laden prüfen und alten löschen, neues einfügen.

Beispiel: Nur 1 Filter für Unfälle http://localhost:5173/regionen/zes?lat=52.4735&lng=13.4282&zoom=16.8&theme=surface&bg=default&config=JTdDJUMyJUE2JUMyJUE4YWN0aXZlJUMyJUE4JUMyJUE4aWQlQzIlQTglQzIlQThzdHlsZXMlQzIlQTglRTIlODAlQTElQzIlQkIlQzIlQThib3VuZGFyaWVzJUMyJUE4JTdDJTdCJUMzJTlGMSVDMiVBOGRlZmF1bHQlQzIlQTglQzMlOUYwJUMyJUJCJTdEJUMzJUI3JUMyJUFCJUMyJUE4cGFya2luZyVDMiVBOCU3QyVDMiVBNiVDMyU5RjAlQzMlOUYxJUUyJTgwJUExJUMyJUJCJUMzJTlGNCVDMiVBQiVDMiVBOHByZXNlbmNlJUMyJUE4JUMyJUFCJUMyJUE4ZGVidWdMZW5ndGhQZXJDYXBhY2l0eSVDMiVBOCVFMiU4MCU5NCVDMyVCNyVDMiVCQiVDMiVBOGFjY2lkZW50cyVDMiVBOCU3QyU3QiVDMyU5RjElQzMlOUY0JUMzJTlGMCVDMiVCQiVDMiVBOGZpbHRlcnMlQzIlQTglN0MlN0IlQzMlOUYxJUMyJUE4eWVhcnMlQzIlQTglQzIlQThvcHRpb25zJUMyJUE4JTdDJUMyJUE2JUMzJTlGMCVDMyU5RjElRTIlODAlQTElQzIlQUIlQzIlQTgyMDE3JUMyJUE4JUMyJUJCJUMyJUE4MjAxOCVDMiVBOCVDMiVBQiVDMiVBODIwMTklQzIlQTglRTIlODAlOTQlQzMlQjclN0QlQzMlQjclN0QlQzMlQjclQzIlQUIlQzIlQThzdXJmYWNlJUMyJUE4JTdDJUMyJUE2JUMzJTlGMCVDMyU5RjElRTIlODAlQTElQzIlQkIlQzMlOUY0JUMyJUFCJUMyJUE4YmFkJUMyJUE4JUMyJUFCJUMyJUE4ZGVidWctc21vb3RobmVzcyVDMiVBOCVFMiU4MCU5NCVDMyVCNyVDMiVBQiVDMiVBOGJpa2VsYW5lcyVDMiVBOCU3QyVDMiVBNiVDMyU5RjAlQzMlOUYxJUUyJTgwJUExJUMyJUJCJUMzJTlGNCVDMiVBQiVDMiVBOGRldGFpbGVkJUMyJUE4JUUyJTgwJTk0JUMzJUI3JUMyJUFCJUMyJUE4aGlnaHdheUNsYXNzaWZpY2F0aW9uJUMyJUE4JTdDJUMyJUE2JUMzJTlGMCVDMyU5RjElRTIlODAlQTElQzIlQUIlQzIlQTh6ZXMlQzIlQTglQzIlQUIlQzIlQThvc20lQzIlQTglRTIlODAlOTQlQzMlQjclQzIlQUIlQzIlQThtYXBpbGxhcnlDb3ZlcmFnZSVDMiVBOCU3QyU3QiVDMyU5RjElQzMlOUY0JUMzJTlGMCVDMiVCQiVDMyU5RjklN0MlN0IlQzMlOUYxJUMyJUE4cGFub3JhbWElQzIlQTglQzMlOUZCJTdDJUMyJUE2JUMzJTlGMSVFMiU4MCVBMSVDMiVBOHRydWUlQzIlQTglQzIlQThmYWxzZSVDMiVBOCVFMiU4MCU5NCU3QiVDMyU5RjAlQzIlQkIlQzMlOUYxJUMyJUE4bmlsJUMyJUE4JTdEJUMzJUI3JTdEJUMzJUI3JTdEJUMzJUI3JUUyJTgwJTk0JUMzJUI3

## Bei Relaod der URL wird Position+Zoom nicht übernommen

Bspw. http://localhost:5173/regionen/zes?lat=52.3767&lng=13.6176&zoom=14.2&theme=surface&bg=default&config=JTdDJUMyJUE2JUMyJUE4YWN0aXZlJUMyJUE4JUMyJUE4aWQlQzIlQTglQzIlQThzdHlsZXMlQzIlQTglRTIlODAlQTElQzIlQUIlQzIlQThib3VuZGFyaWVzJUMyJUE4JTdDJTdCJUMzJTlGMSVDMiVBOGRlZmF1bHQlQzIlQTglQzMlOUYwJUMyJUJCJTdEJUMzJUI3JUMyJUJCJUMyJUE4cGFya2luZyVDMiVBOCU3QyVDMiVBNiVDMyU5RjAlQzMlOUYxJUUyJTgwJUExJUMyJUJCJUMzJTlGNCVDMiVBQiVDMiVBOHByZXNlbmNlJUMyJUE4JUMyJUFCJUMyJUE4ZGVidWdMZW5ndGhQZXJDYXBhY2l0eSVDMiVBOCVFMiU4MCU5NCVDMyVCNyVDMiVCQiVDMiVBOGFjY2lkZW50cyVDMiVBOCU3QyU3QiVDMyU5RjElQzMlOUY0JUMzJTlGMCVDMiVCQiVDMiVBOGZpbHRlcnMlQzIlQTglN0MlN0IlQzMlOUYxJUMyJUE4eWVhcnMlQzIlQTglQzIlQThvcHRpb25zJUMyJUE4JTdDJUMyJUE2JUMzJTlGMCVDMyU5RjElRTIlODAlQTElQzIlQkIlQzIlQTgyMDE3JUMyJUE4JUMyJUFCJUMyJUE4MjAxOCVDMiVBOCVDMiVBQiVDMiVBODIwMTklQzIlQTglRTIlODAlOTQlQzMlQjclN0QlQzMlQjclN0QlQzMlQjclQzIlQUIlQzIlQThzdXJmYWNlJUMyJUE4JTdDJUMyJUE2JUMzJTlGMCVDMyU5RjElRTIlODAlQTElQzIlQkIlQzMlOUY0JUMyJUFCJUMyJUE4YmFkJUMyJUE4JUMyJUFCJUMyJUE4ZGVidWctc21vb3RobmVzcyVDMiVBOCVFMiU4MCU5NCVDMyVCNyVDMiVBQiVDMiVBOGJpa2VsYW5lcyVDMiVBOCU3QyVDMiVBNiVDMyU5RjAlQzMlOUYxJUUyJTgwJUExJUMyJUJCJUMzJTlGNCVDMiVBQiVDMiVBOGRldGFpbGVkJUMyJUE4JUUyJTgwJTk0JUMzJUI3JUMyJUFCJUMyJUE4aGlnaHdheUNsYXNzaWZpY2F0aW9uJUMyJUE4JTdDJUMyJUE2JUMzJTlGMCVDMyU5RjElRTIlODAlQTElQzIlQUIlQzIlQTh6ZXMlQzIlQTglQzIlQUIlQzIlQThvc20lQzIlQTglRTIlODAlOTQlQzMlQjclQzIlQUIlQzIlQThtYXBpbGxhcnlDb3ZlcmFnZSVDMiVBOCU3QyU3QiVDMyU5RjElQzMlOUY0JUMzJTlGMCVDMiVCQiVDMyU5RjklN0MlN0IlQzMlOUYxJUMyJUE4cGFub3JhbWElQzIlQTglQzMlOUZCJTdDJUMyJUE2JUMzJTlGMSVFMiU4MCVBMSVDMiVBOHRydWUlQzIlQTglQzIlQThmYWxzZSVDMiVBOCVFMiU4MCU5NCU3QiVDMyU5RjElQzIlQThuaWwlQzIlQTglQzMlOUYwJUMyJUJCJTdEJUMzJUI3JTdEJUMzJUI3JTdEJUMzJUI3JUUyJTgwJTk0JUMzJUI3

## Use a map for mapDataConfig

- We can use `.get(ID)` instead of `.find` or `.findIndex`
- Its recommended in https://immerjs.github.io/immer/update-patterns at the end of the page

## Switch from Zustand zu Jotai

It feels like Jotais model does fit more in our application.

https://jotai.org/docs/guides/typescript

## Test

Setup https://vitest.dev/api/ intead of Jest

## `@tanstack/react-location-devtools`: Cleanup package.json overwrite

This needs a kind of ugly override in package.json, see https://github.com/TanStack/router/issues/257#issuecomment-1154737874
Once that issue is resolved, we should cleanup the overwrite.
